:root {
  color-scheme: dark;
  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  background: #12171d;
  color: #e6edf3;
}

* {
  box-sizing: border-box;
}

html,
body,
#root {
  width: 100%;
  min-height: 100%;
  margin: 0;
}

.layout {
  min-height: 100vh;
  display: grid;
  grid-template-rows: 56px 1fr;
}

.topbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 16px;
  background: linear-gradient(90deg, #1f2a36, #1a2330);
  border-bottom: 1px solid #2b3a4c;
}

.logo {
  font-weight: 700;
}

.topbar nav {
  display: flex;
  gap: 8px;
}

.topbar button {
  border: 1px solid #32465f;
  border-radius: 4px;
  color: #d9e5f1;
  background: #202c3a;
  padding: 6px 10px;
}

.topbar .nav-active {
  background: #2d4157;
  border-color: #4d6783;
}

.main-grid {
  display: grid;
  grid-template-columns: minmax(240px, 320px) 1fr;
  gap: 12px;
  padding: 12px;
}

.left-panel {
  background: #171e27;
  border: 1px solid #263548;
  border-radius: 8px;
  padding: 12px;
}

.source {
  margin-top: 0;
  color: #9bb2c7;
  font-size: 0.875rem;
}

.connect-box {
  margin-bottom: 12px;
  padding: 10px;
  border-radius: 6px;
  background: #1b2430;
  border: 1px solid #2e4054;
}

.row {
  display: grid;
  grid-template-columns: 64px 1fr;
  gap: 8px;
  align-items: center;
  margin-bottom: 8px;
}

.row label {
  color: #9cb0c5;
  font-size: 0.85rem;
}

.row input,
.row select {
  border: 1px solid #375069;
  border-radius: 4px;
  background: #101924;
  color: #d7e6f6;
  padding: 6px;
}

.actions {
  display: flex;
  gap: 8px;
  margin-top: 8px;
}

.actions button,
.secondary {
  border: 1px solid #3a5068;
  border-radius: 4px;
  background: #1f2d3d;
  color: #d7e6f6;
  padding: 6px 10px;
}

.secondary {
  margin-top: 4px;
}

.stat-card {
  margin-bottom: 10px;
  padding: 10px;
  border-radius: 6px;
  background: #202a36;
  border: 1px solid #304154;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.stat-card strong {
  font-size: 1.4rem;
}

.meta-list {
  color: #9cb2c7;
  font-size: 0.85rem;
}

.meta-list p {
  margin: 5px 0;
}

.error {
  color: #ff9f9f;
  background: #311b1b;
  border: 1px solid #6a3f3f;
  border-radius: 4px;
  padding: 8px;
}

.map-panel {
  background: #121922;
  border: 1px solid #263548;
  border-radius: 8px;
  padding: 12px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.flight-surface {
  display: flex;
  flex-direction: column;
  flex: 1;
  min-height: 480px;
}

.flight-map-container {
  position: relative;
  flex: 1;
  min-height: 0;
}

.flight-map-container .mission-map {
  height: 100%;
  min-height: 0;
}

.follow-toggle {
  position: absolute;
  bottom: 12px;
  left: 12px;
  z-index: 10;
  border: 1px solid #3a5068;
  border-radius: 6px;
  background: rgba(18, 25, 34, 0.85);
  backdrop-filter: blur(6px);
  color: #d7e6f6;
  padding: 6px 14px;
  font-size: 0.85rem;
  cursor: pointer;
}

.follow-toggle:hover {
  background: rgba(32, 44, 58, 0.9);
}

.flight-status-bar {
  display: flex;
  gap: 8px;
  padding: 10px 0 0;
}

.flight-status-item {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 10px;
  border-radius: 6px;
  background: #202a36;
  border: 1px solid #304154;
}

.flight-status-label {
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: #9cb2c7;
}

.flight-status-value {
  font-size: 1.1rem;
  font-weight: 700;
  color: #e6edf3;
}

.vehicle-marker {
  width: 32px;
  height: 32px;
  cursor: default;
}

.vehicle-marker svg {
  transition: transform 0.3s ease;
}

.mission-pin.is-current {
  background: #ff4444;
  animation: pulse-current 1.5s ease-in-out infinite;
}

@keyframes pulse-current {
  0%, 100% { box-shadow: 0 0 0 0 rgba(255, 68, 68, 0.5); }
  50% { box-shadow: 0 0 0 8px rgba(255, 68, 68, 0); }
}

.planner-surface {
  min-height: 320px;
  border: 1px solid #2e4055;
  border-radius: 8px;
  padding: 12px;
  background: linear-gradient(180deg, #101924, #0f1721);
}

.planner-surface h3 {
  margin-top: 0;
}

.planner-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 12px;
}

.planner-actions button {
  border: 1px solid #3a5068;
  border-radius: 4px;
  background: #1f2d3d;
  color: #d7e6f6;
  padding: 6px 10px;
}

.planner-actions button:disabled {
  opacity: 0.55;
  cursor: not-allowed;
}

.planner-actions select {
  border: 1px solid #3a5068;
  border-radius: 4px;
  background: #162332;
  color: #d7e6f6;
  padding: 6px 10px;
}

.planner-actions input {
  width: 118px;
  border: 1px solid #3a5068;
  border-radius: 4px;
  background: #162332;
  color: #d7e6f6;
  padding: 6px 8px;
}

.inline-label {
  color: #a9bfd4;
  align-self: center;
}

.roundtrip-status {
  color: #99b7d4;
  align-self: center;
}

.mission-table-wrap {
  min-height: 320px;
  overflow: auto;
}

.planner-workspace {
  display: grid;
  grid-template-columns: minmax(300px, 44%) 1fr;
  gap: 12px;
  align-items: stretch;
}

.mission-map {
  min-height: 420px;
  border: 1px solid #2f4358;
  border-radius: 8px;
  overflow: hidden;
}

.mission-pin {
  width: 28px;
  height: 28px;
  border: 2px solid #072035;
  border-radius: 999px;
  background: #12b9ff;
  color: #03101a;
  font-size: 12px;
  font-weight: 700;
  line-height: 1;
  cursor: pointer;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.35);
}

.mission-pin.is-selected {
  background: #ffb020;
  transform: scale(1.08);
}

.mission-pin.is-home {
  background: #57e38b;
}

.mission-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.9rem;
}

.mission-table th,
.mission-table td {
  border: 1px solid #2f4358;
  padding: 6px;
}

.mission-table th {
  background: #1a2634;
  color: #a9bfd4;
  font-weight: 600;
}

.mission-table tbody tr {
  cursor: pointer;
}

.mission-table tbody tr.is-selected td {
  background: #203246;
}

.mission-table input[readonly] {
  opacity: 0.85;
  cursor: default;
}

.mission-table input {
  width: 100%;
  border: 1px solid #375069;
  border-radius: 4px;
  background: #101924;
  color: #d7e6f6;
  padding: 4px;
}

.mission-issues {
  margin-top: 12px;
  color: #a9bfd4;
}

.mission-issues h4 {
  margin: 0 0 8px;
}

.mission-issues ul {
  margin: 0;
  padding-left: 16px;
}

.mission-transfer {
  margin-top: 12px;
  padding: 10px;
  border: 1px solid #2f4358;
  border-radius: 6px;
  background: #13202d;
  color: #b3c8dd;
}

.mission-transfer h4 {
  margin: 0 0 8px;
}

.error-inline {
  color: #ff9f9f;
  margin: 6px 0 0;
}

@media (max-width: 900px) {
  .main-grid {
    grid-template-columns: 1fr;
  }

  .planner-workspace {
    grid-template-columns: 1fr;
  }

  .mission-map {
    min-height: 320px;
  }
}
